In file included from /home/changho/sgx-guest/sgx-module/include/sgx.h:42:0,
                 from /home/changho/sgx-guest/sgx-module/include/sgx-kern.h:22,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:16:
/home/changho/sgx-guest/sgx-module/../share/include/sgx-shared.h:35:0: warning: "PAGE_SIZE" redefined [enabled by default]
 #define PAGE_SIZE  4096
 ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/page.h:8:0,
                 from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/thread_info.h:11,
                 from include/linux/thread_info.h:54,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:29,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:1:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/page_types.h:9:0: note: this is the location of the previous definition
 #define PAGE_SIZE (_AC(1,UL) << PAGE_SHIFT)
 ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:23:14: error: static declaration of ‘empty_page’ follows non-static declaration
 static char *empty_page;
              ^
In file included from /home/changho/sgx-guest/sgx-module/sgx-kern.c:18:0:
/home/changho/sgx-guest/sgx-module/include/sgx-signature.h:57:14: note: previous declaration of ‘empty_page’ was here
 extern char *empty_page;
              ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘pte_alloc_one’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:49:9: error: invalid use of void expression
         if (!pgtable_page_ctor(pte)) {
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘__pte_alloc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:97:9: error: implicit declaration of function ‘pmd_lock’ [-Werror=implicit-function-declaration]
         ptl = pmd_lock(mm, pmd);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:97:13: warning: assignment makes pointer from integer without a cast [enabled by default]
         ptl = pmd_lock(mm, pmd);
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:100:17: warning: passing argument 1 of ‘atomic_long_inc’ from incompatible pointer type [enabled by default]
                 atomic_long_inc(&mm->nr_ptes);
                 ^
In file included from include/linux/atomic.h:127:0,
                 from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/thread_info.h:24,
                 from include/linux/thread_info.h:54,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:29,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:1:
include/asm-generic/atomic-long.h:41:20: note: expected ‘struct atomic_long_t *’ but argument is of type ‘long unsigned int *’
 static inline void atomic_long_inc(atomic_long_t *l)
                    ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘__follow_pte’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:200:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         unsigned long tmp = (unsigned long)native_pud_val(*pud);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:201:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "follow_pte 3 pud: %p pud_val: %d", pud, tmp);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:210:9: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "follow_pte 6 pmd: %p pmd_val: %d", pmd, tmp);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:229:1: warning: label ‘unlock’ defined but not used [-Wunused-label]
 unlock:
 ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘alloc_secs’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:438:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘uint64_t’ [-Wformat=]
     sgx_dbg(info, "enclave addr: %p (size: 0x%x)",
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:438:5: warning: format ‘%x’ expects argument of type ‘unsigned int’, but argument 5 has type ‘uint64_t’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:413:15: warning: unused variable ‘SECS_SIZE’ [-Wunused-variable]
     const int SECS_SIZE = MIN_ALLOC * PAGE_SIZE;
               ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘ecreate’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:451:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     secs_t *secs = alloc_secs(enclave_addr, enclave_size, intel_flag);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:455:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     secinfo_t *secinfo = alloc_secinfo(true, true, false, PT_SECS);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:464:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     epc_t *epc = get_epc(eid, SECS_PAGE);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘link_linaddr_with_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:497:9: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "epc virt %p, epc phys %p", epc, epc_phys_addr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:498:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         spinlock_t *ptl;
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:500:9: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "linaddr %p", linaddr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:501:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         int ret = -EINVAL;
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:503:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         struct vm_area_struct *vma = find_vma(current->mm, linaddr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘add_page_to_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:543:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     secinfo_t *secinfo = alloc_secinfo(true, true, false, pt);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘add_pages_to_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:616:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         unsigned long epc_phys_addr = PFN_PHYS(vmalloc_to_pfn((void *)epc));
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:617:9: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "epc virt %p, epc phys %p", epc, epc_phys_addr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:618:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         spinlock_t *ptl;
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:621:9: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
         sgx_dbg(kern, "code target_addr %p", target_addr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:622:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         int ret = -EINVAL;
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:624:9: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
         struct vm_area_struct *vma = find_vma(current->mm, target_addr);
         ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘add_empty_pages_to_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:682:13: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
             unsigned long epc_phys_addr = PFN_PHYS(vmalloc_to_pfn((void *)epc));
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:683:13: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
             sgx_dbg(kern, "epc virt %p, epc phys %p", epc, epc_phys_addr);
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:684:13: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
             spinlock_t *ptl;
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:687:13: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
             sgx_dbg(kern, "heap linaddr %p", linaddr);
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:692:13: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
             int ret = -EINVAL;
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:726:13: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
             sgx_dbg(kern, "epc virt %p, epc phys %p", epc, epc_phys_addr);
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:727:13: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
             spinlock_t *ptl;
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:730:13: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
             sgx_dbg(kern, "stack target_addr %p", linaddr);
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:732:31: warning: assignment makes pointer from integer without a cast [enabled by default]
                 epc_stack_end = linaddr + 0xff0; //cch: I am not sure. which one is better between 0xff0, 0xfff, and 0x1000? 
                               ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:735:13: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
             int ret = -EINVAL;
             ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘add_tls_pages_to_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:784:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     unsigned long linaddr = enclave_addr;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘sys_get_enclave_heap’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:837:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long int’ [-Wformat=]
     sgx_dbg(trace, "heap_begin_userp is %p, heap_end_userp is %p", heap_begin_userp, heap_end_userp);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:837:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:838:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(trace, "heap_begin is %p, heap_end is %p", heap_begin, heap_end);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:838:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:839:5: warning: passing argument 1 of ‘copy_to_user’ makes pointer from integer without a cast [enabled by default]
     if (copy_to_user(heap_begin_userp, &heap_begin, sizeof(long))) {
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:72:5: note: expected ‘void *’ but argument is of type ‘long int’
 int copy_to_user(void __user *dst, const void *src, unsigned size)
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:843:5: warning: passing argument 1 of ‘copy_to_user’ makes pointer from integer without a cast [enabled by default]
     if (copy_to_user(heap_end_userp, &heap_end, sizeof(long))) {
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:72:5: note: expected ‘void *’ but argument is of type ‘long int’
 int copy_to_user(void __user *dst, const void *src, unsigned size)
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘sys_create_enclave’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:919:5: warning: passing argument 2 of ‘copy_from_user’ makes pointer from integer without a cast [enabled by default]
     copy_from_user(load_addr, load_p, code_pages * sizeof(epc_t));
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:55:42: note: expected ‘const void *’ but argument is of type ‘long int’
 static inline unsigned long __must_check copy_from_user(void *to,
                                          ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:920:5: warning: passing argument 2 of ‘copy_from_user’ makes pointer from integer without a cast [enabled by default]
     copy_from_user(tcs, tcs_p, sizeof(tcs_t));
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:55:42: note: expected ‘const void *’ but argument is of type ‘long int’
 static inline unsigned long __must_check copy_from_user(void *to,
                                          ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:921:5: warning: passing argument 2 of ‘copy_from_user’ makes pointer from integer without a cast [enabled by default]
     copy_from_user(sig, sig_p, sizeof(sigstruct_t));
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:55:42: note: expected ‘const void *’ but argument is of type ‘long int’
 static inline unsigned long __must_check copy_from_user(void *to,
                                          ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:922:5: warning: passing argument 2 of ‘copy_from_user’ makes pointer from integer without a cast [enabled by default]
     copy_from_user(token, token_p, sizeof(einittoken_t));
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:55:42: note: expected ‘const void *’ but argument is of type ‘long int’
 static inline unsigned long __must_check copy_from_user(void *to,
                                          ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:925:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long int’ [-Wformat=]
     sgx_dbg(info, "load addr is %p",load_p);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:927:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(info, "load size is %p",code_pages * sizeof(epc_t));
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:928:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long int’ [-Wformat=]
     sgx_dbg(info, "tcs is %p",tcs_p);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:929:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long int’ [-Wformat=]
     sgx_dbg(info, "sigstruct is %p",sig_p);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:930:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long int’ [-Wformat=]
     sgx_dbg(info, "token is %p",token_p);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:932:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘uint64_t’ [-Wformat=]
     sgx_dbg(info, "tcs->oentry is %p", tcs->oentry);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:951:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int ret = -EPERM;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:967:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int sec_npages  = 1;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:977:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     epc_t *enclave = alloc_epc_pages(npages, eid);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:984:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int enclave_size = PAGE_SIZE * npages;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:987:26: warning: initialization makes pointer from integer without a cast [enabled by default]
     void *enclave_addr = base_addr; //cch changed from epc_to_vaddr(enclave);
                          ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:987:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     void *enclave_addr = base_addr; //cch changed from epc_to_vaddr(enclave);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:998:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     epc_t *tcs_epc = get_epc(eid, TCS_PAGE);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1002:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int tls_page_offset = sec_npages + tcs_npages;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1016:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(info, "tcs linaddr: %p, tls linaddr: %p, code linaddr: %p", tcs_linaddr, tls_linaddr, code_linaddr);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1016:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1016:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 6 has type ‘long unsigned int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1017:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(info, "ssa_linaddr: %p, stack linaddr: %p, heap linaddr: %p", ssa_linaddr, stack_linaddr, heap_linaddr);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1017:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1017:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 6 has type ‘long unsigned int’ [-Wformat=]
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1094:24: warning: assignment makes pointer from integer without a cast [enabled by default]
     kenclaves[eid].tcs = tcs_linaddr; //cch modified from epc_to_vaddr(tcs_epc); 
                        ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘print_eid_stat’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1143:6: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
      long total_epc_heap = stat.prealloc_heap + stat.augged_heap;
      ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘sys_stat_enclave’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1155:16: warning: comparison between pointer and integer [enabled by default]
     if (stat_p == NULL) {
                ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1164:5: warning: passing argument 1 of ‘copy_to_user’ makes pointer from integer without a cast [enabled by default]
     copy_to_user(stat_p, &(kenclaves[keid]), sizeof(keid_t));
     ^
In file included from /usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess.h:552:0,
                 from include/linux/uaccess.h:5,
                 from /home/changho/sgx-guest/sgx-module/sgx-kern.c:4:
/usr/src/linux-headers-3.8.0-44-generic/arch/x86/include/asm/uaccess_64.h:72:5: note: expected ‘void *’ but argument is of type ‘long int’
 int copy_to_user(void __user *dst, const void *src, unsigned size)
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘sys_add_epc’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1171:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     epc_t *secs = kenclaves[keid].secs;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1179:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     epc_t *epc = get_epc(keid, (uint64_t)REG_PAGE);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1189:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     unsigned long epc_phys_addr = PFN_PHYS(vmalloc_to_pfn((void *)epc));
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1190:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 5 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(kern, "epc virt %p, epc phys %p", epc, epc_phys_addr);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1191:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     spinlock_t *ptl;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1194:5: warning: format ‘%p’ expects argument of type ‘void *’, but argument 4 has type ‘long unsigned int’ [-Wformat=]
     sgx_dbg(kern, "aug target_addr %p", target_addr);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1195:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int ret = -EINVAL;
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1197:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     struct vm_area_struct *vma = find_vma(current->mm, target_addr);
     ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: At top level:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:327:6: warning: ‘EPA’ defined but not used [-Wunused-function]
 void EPA(epc_t *epc)
      ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1117:6: warning: ‘print_eid_stat’ defined but not used [-Wunused-function]
 void print_eid_stat(keid_t stat) {
      ^
/home/changho/sgx-guest/sgx-module/sgx-kern.c: In function ‘sys_create_temp’:
/home/changho/sgx-guest/sgx-module/sgx-kern.c:1235:1: warning: control reaches end of non-void function [-Wreturn-type]
 asmlinkage long sys_create_temp(int temp){}
 ^
cc1: some warnings being treated as errors
make[2]: *** [/home/changho/sgx-guest/sgx-module/sgx-kern.o] Error 1
make[1]: *** [_module_/home/changho/sgx-guest/sgx-module] Error 2
make: *** [all] Error 2
